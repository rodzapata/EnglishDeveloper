// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider     = "prisma-client"
  output       = "../src/generated/prisma"
  moduleFormat = "cjs"
}

datasource db {
  provider = "postgresql"
}


model PartOfSpeech {
  id          Int                         @id @default(autoincrement())
  name        String                      @unique
  description String?
  dictionaryLinks DictionaryPartOfSpeech[]

  @@map("part_of_speech")
}

model Dictionary {
  id          Int                         @id @default(autoincrement())
  word        String                      @db.VarChar(100)
  links       DictionaryPartOfSpeech[]

  @@unique([word], map: "uq_dictionary_word")
  @@map("dictionary")
}

model DictionaryPartOfSpeech {
  id             Int          @id @default(autoincrement())
  translation    String       @db.VarChar(200)
  dictionaryId   Int          @map("dictionary_id")
  partOfSpeechId Int          @map("part_of_speech_id")
  dictionary     Dictionary   @relation(fields: [dictionaryId], references: [id], onDelete: Cascade, map: "fk_dps_dictionary")
  partOfSpeech   PartOfSpeech @relation(fields: [partOfSpeechId], references: [id], onDelete: Restrict, map: "fk_dps_part_of_speech")

  @@unique([dictionaryId, partOfSpeechId], map: "uq_dictionary_part_of_speech")
  @@index([partOfSpeechId], map: "idx_dps_part_of_speech")
  @@index([dictionaryId], map: "idx_dps_dictionary")
  @@map("dictionary_part_of_speech")
}

/*
model PartOfSpeech {
  id          Int           @id @default(autoincrement())
  name        String        @unique
  description String?
  vocabularies dictionary[]

  @@map("part_of_speech")
}

model dictionary {
  id                  Int     @id @default(autoincrement())
  word                String  @unique
  pronunciation       String?
  translate           String?
  part_of_speech_id   part_of_speech  @relation(fields: [part_of_speech_id], references: [id], map: "fk_customer_county")
  week                Int?
}


model vocabulary {
  id              Int     @id @default(autoincrement())
  item            Int?
  description     String
  pronunciation   String?
  translate       String?
}
*/